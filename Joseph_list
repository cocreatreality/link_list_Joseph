
class Child(object):
	def __init__(self, name = None, idNumber = None, age = None, sex = None, preChild = None, reChild = None):
		self.name = name
		self.idNumber = idNumber
		self.age = age
		self.sex = sex
		self.preChild = preChild
		self.reChild = reChild


class ChildrenLoop:
        def __init__(self):
                self.lenth = 0
                self.head = self.tail = Child()
                self.head.preChild = self.tail
                self.head.reChild = self.tail
                self.tail.reChild = self.head
                self.tail.preChild = self.head
        def Insert(self, name, idNumber, age, sex):
                if self.lenth is 0:
                    self.head = Child(name, idNumber, age, sex, self.tail, self.tail)
                elif self.lenth is 1:
                    self.tail = Child(name, idNumber, age, sex, self.head, self.head)
                else:
                    node = Child(name, idNumber, age, sex, self.tail, self.head)
                    self.tail.preChild = node
                    self.head.reChild = node
                    self.tail = node
                    self.lenth = self.lenth + 1
        def GetChild(self, idNumber):
                if self.lenth is 0:
                    print ("The loop is empty! \n")
                node = self.head
                count = 0
                while node.idNumber is not idNumber and count is not self.lenth:
                    node = node.reChild
                    count = count + 1
                if count is self.lenth:
                    print("There is no such child. \n")
                    return None
                else:
                    return node
        def ShowChild(self, node):
                print("Name: " + node.name + "\t" + "idNumber: " + node.idNumber + "\t" + "Age: " + node.age + "\t" + "Sex: " + node.sex + "\t" + "\n")
        def Delete(self, node):
                self.ShowChild(node)
                node.reChild.preChild = node.preChild
                node.preChild.reChild = node.reChild
        def startGame(self, idNumber, method, step):
                node = self.Getchild(idNumber)
                count = 1
                while self.lenth is not 1:
                    print("第" + count + "个出列的同学是：\n")
                    if method is 1:
                        for i in range(step):
                            node = node.recChild
                        temp = node.reChild
                        self.Delete(node)
                        node = temp
                    else:
                        for i in range(step):
                            node = node.preChild
                        temp = node.preChild
                        self.Delete(node)
                        node = temp
                    count = count + 1
                print ("剩下的同学是：\n")
                self.ShowChild(node)

def main():
        Joseph = ChildrenLoop()
        print("Please insert the information of children. \n")
        Joseph.Insert("Tom", "001", "15", "m")
        node = Joseph.GetChild("001")
        Joseph.ShowChild(node)
